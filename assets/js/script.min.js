function countLetters(){["AomailerSmsTemplates_admin_text_sms","AomailerSmsTemplates_client_text_sms","AomailerSmsMailing_text_sms"].forEach(function(e,t,o){var a=0,n=0,i=jQuery("#"+e).val();if(i&&void 0!==i){if(a=i.length,i.match(/[а-я]/gi))if(a<=70)var r=70;else r=67;else if(a<=160)r=160;else r=153;n=Math.ceil(a/r)}jQuery("#"+e).parent("div").find(".aomp-count-sms-letters").text(a),jQuery("#"+e).parent("div").find(".aomp-size-sms-letters").text(n),jQuery("#"+e).parent("div").find(".aomp-length-sms-letters").text(r)})}function switcher(){jQuery("#aomp-order-type-admin, #aomp-templates-admin").find('.form-group input[type="checkbox"]').bootstrapSwitch({size:"mini",onColor:"warning",offColor:"default",onText:'<i class="fa fa-check" aria-hidden="true"></i>',offText:'<i class="fa fa-times" aria-hidden="true"></i>'}),jQuery("#aomp-order-type-client, #aomp-templates-client").find('.form-group input[type="checkbox"]').bootstrapSwitch({size:"mini",onColor:"info",offColor:"default",onText:'<i class="fa fa-check" aria-hidden="true"></i>',offText:'<i class="fa fa-times" aria-hidden="true"></i>'}),jQuery("#aomp-order-type-settings").find('.form-group input[type="checkbox"]').bootstrapSwitch({size:"mini",onColor:"danger",offColor:"default",onText:'<i class="fa fa-check" aria-hidden="true"></i>',offText:'<i class="fa fa-times" aria-hidden="true"></i>'})}function loadPage(){setTimeout(function(){jQuery(".message_output").fadeOut("slow")},5e3),jQuery(".PhoneMask").mask("+7 (999) 999-99-99"),countLetters(),switcher(),loadDateTimePickerPlugin(),jQuery("#aomp-overlay, #aomp-order-loader-admin").hide()}function reloadForm(e,t,o,a){jQuery("#aomp-overlay, #aomp-order-loader-admin").show(),jQuery("#aomp-"+e).load(a+"admin-ajax.php?action=aomailer_load_form_"+e,{data:o},function(){loadPage(),getBalance(t)})}jQuery(document).ready(function(){loadPage(),jQuery(document).delegate("#aomp-settings-tab a","click",function(e){jQuery(".message_output").hide(),e.preventDefault(),jQuery(this).tab("show")}),jQuery(document).delegate(".fa-plus","click",function(e){var t=jQuery(this).parents(".form-group").find(".clone_block"),o=t.find("input:first-child").attr("name"),a=t.find("input:first-child").attr("id"),n=jQuery("<div>").attr({class:"has-feedback"}).appendTo(t),i=jQuery("<input>").attr({type:"tel",name:o,class:"form-control PhoneMask",style:"margin-top:2px"}).appendTo(n);jQuery("<span>").attr({class:"glyphicon glyphicon-remove form-control-feedback glyphicon-remove-red"}).appendTo(n);i.attr("id",a+"_"+n.index()),jQuery(".PhoneMask").mask("+7 (999) 999-99-99")}),jQuery(document).delegate("span.glyphicon-remove","click",function(e){jQuery(this).parent(".has-feedback").remove()}),jQuery(document).delegate(".tips","mouseover",function(e){jQuery(this).tooltip("show")}),jQuery(document).delegate(".personification","click",function(e){e=this;if(window.getSelection)(t=window.getSelection()).setBaseAndExtent[0]?t.setBaseAndExtent(e,0,e,e.innerText.length-1):((o=document.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(o));else if(document.getSelection){var t=document.getSelection();(o=document.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(o)}else if(document.selection){var o;(o=document.body.createTextRange()).moveToElementText(e),o.select()}document.execCommand("copy")})});